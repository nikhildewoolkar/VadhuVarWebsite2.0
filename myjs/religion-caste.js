if(typeof(dirDiffrence)=="undefined"||dirDiffrence==''){dirDiffrence='';}function changeReligion(objReligion,strReligion){var refType=objReligion.attr('data-ref-type');var objCaste=$('[data-ref-type='+refType+'].js-caste');var objSubCaste=$('[data-ref-type='+refType+'].js-sub-caste');if(strReligion=='- Select -'){strReligion='';}if(objReligion.val()!=strReligion){objReligion.find('option:selected').removeAttr('selected');objReligion.find('option[value="'+strReligion+'"]').attr('selected','selected');}objCaste.html('');objCaste.attr('disabled','disabled');objSubCaste.html('');objSubCaste.attr('disabled','disabled');if(strReligion!=''){objCaste.removeAttr('disabled');$.ajax({dataType:"json",url:dirDiffrence+'get_caste_data.php?key=get_castes&religion='+strReligion,async:false,success:function(arrobjCastes){objCaste.append('<option value="" selected="selected">- Select -</option>');$.each(arrobjCastes,function(idx,caste){objCaste.append('<option value="'+caste+'">'+caste+'</option>');});changeSubCaste(objSubCaste,'');}});}}function changeCaste(objCaste,strCaste){var refType=objCaste.attr('data-ref-type');var objSubCaste=$('[data-ref-type='+refType+'].js-sub-caste');var strReligion=$('[data-ref-type='+refType+'].js-religion').val();if(strCaste=='- Select -'){strCaste='';}if(objCaste.val()!=strCaste){objCaste.find('option:selected').removeAttr('selected');objCaste.find('option[value="'+strCaste+'"]').attr('selected','selected');}objSubCaste.html('');objSubCaste.attr('disabled','disabled');if(strReligion!=''&&strCaste!=''){objSubCaste.removeAttr('disabled');$.ajax({dataType:"json",url:dirDiffrence+'get_caste_data.php?key=get_sub_castes&religion='+strReligion+'&caste='+strCaste,async:false,success:function(arrobjSubCastes){objSubCaste.append('<option value="" selected="selected">- Select -</option>');objSubCaste.append('<option value="">Not Applicable</option>');$.each(arrobjSubCastes,function(idx,subCaste){objSubCaste.append('<option value="'+subCaste+'">'+subCaste+'</option>');});objSubCaste.append('<option value="Others">Others</option>');if(arrobjSubCastes.length>0){changeSubCaste(objSubCaste,'');}else{changeSubCaste(objSubCaste,'Others');}}});}}function changeSubCaste(objSubCaste,strSubCaste){var refType=objSubCaste.attr('data-ref-type');var subCasteFldName=objSubCaste.attr('data-sub-caste-fld-name');var objTxtSubCaste=$('[data-ref-type='+refType+'].js-txt-sub-caste');var strReligion=$('[data-ref-type='+refType+'].js-religion').val();var strCaste=$('[data-ref-type='+refType+'].js-caste').val();if(strSubCaste=='- Select -'){strSubCaste='';}if(objSubCaste.val()!=strSubCaste){objSubCaste.find('option:selected').removeAttr('selected');objSubCaste.find('option[value="'+strSubCaste+'"]').attr('selected','selected');}objTxtSubCaste.val('');if(strReligion!=''&&strCaste!=''&&(strSubCaste=='Others'||objSubCaste.find('option[value="'+strSubCaste+'"]').length==0)){objSubCaste.attr('name','');objTxtSubCaste.attr('name',subCasteFldName);objTxtSubCaste.removeAttr('disabled');objTxtSubCaste.show();if(objSubCaste.find('option[value="'+strSubCaste+'"]').length==0){objSubCaste.find('option[value="Others"]').attr('selected','selected');objTxtSubCaste.val(strSubCaste);}}else{objSubCaste.attr('name',subCasteFldName);objTxtSubCaste.attr('name','');objTxtSubCaste.attr('disabled','disabled');objTxtSubCaste.hide();}}$(document).ready(function(){var arrobjReligions=null;var arrobjCastes=null;$.ajax({dataType:"json",url:dirDiffrence+'get_caste_data.php?key=get_religions',async:false,success:function(data){arrobjReligions=data;}});$('.js-religion').each(function(){var objReligion=$(this);objReligion.html('');objReligion.append('<option value="" selected="selected">- Select -</option>');$.each(arrobjReligions,function(idx,religion){objReligion.append('<option value="'+religion+'">'+religion+'</option>');});changeReligion(objReligion,'');});$('.js-religion').change(function(){changeReligion($(this),$(this).val());});$('.js-caste').change(function(){changeCaste($(this),$(this).val());});$('.js-sub-caste').change(function(){changeSubCaste($(this),$(this).val());});});